<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>About Us | Cordova ai Creatives</title>
    <!-- Use Tailwind CSS for modern, utility-first styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome for professional social media icons and theme toggle icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Import the new fonts */
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Inter:wght@400;600;700&display=swap');

        /* Custom Glassmorphism styles for a sleek, modern look */
        .glass-container {
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 1.5rem; /* 24px */
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 2rem;
            transition: all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        /* Scroll-triggered animation for a more dynamic entrance */
        .animated-section {
            opacity: 0;
            transform: translateY(100px) rotateZ(-2deg);
            transition: opacity 1.2s cubic-bezier(0.175, 0.885, 0.32, 1.275), 
                        transform 1.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .animated-section.is-visible {
            opacity: 1;
            transform: translateY(0) rotateZ(0);
        }

        /* ---------------------------------------------------- */
        /* DEFAULT THEME: DARK NIGHT (newly defined) */
        /* ---------------------------------------------------- */
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0A192F, #1F2E4A, #0A192F);
            background-size: 500% 500%;
            animation: gradient-animation 6s linear infinite;
            color: #FDEBD0; /* Light cream for text, provides good contrast */
            min-height: 100vh;
        }

        .main-title, .glow-heading {
            color: #FFFFFF;
            text-shadow: 0 0 10px #99CCFF, 0 0 20px #99CCFF; /* Cool blue glow */
            animation: glow-pulse 2s infinite alternate;
        }

        .cta-btn {
            background-color: #99CCFF; /* Cool blue for CTA button */
            color: #0A192F; /* Deep blue text for contrast */
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .cta-btn:hover {
            box-shadow: 0 0 20px 8px rgba(153, 204, 255, 0.8);
            transform: scale(1.05) translateY(-4px);
        }

        .timeline-node {
            background-color: #99CCFF;
            border: 3px solid #0A192F;
        }

        .timeline-node::before {
            color: #99CCFF;
        }

        .social-icon {
            color: #FDEBD0;
        }

        .social-icon:hover {
            color: #99CCFF;
        }

        /* ---------------------------------------------------- */
        /* SUNNY DAY THEME (NEW) */
        /* ---------------------------------------------------- */
        body.sunny-day {
            background: linear-gradient(135deg, #87CEEB, #F0E68C, #FFFACD);
            background-size: 500% 500%;
            animation: sunny-gradient-animation 6s linear infinite;
            color: #333333; /* Dark gray for text */
        }

        body.sunny-day .glass-container {
            background-color: rgba(255, 255, 255, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.5);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.2);
        }

        body.sunny-day h1, body.sunny-day h2, body.sunny-day h3 {
            text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.7);
        }

        body.sunny-day .main-title, body.sunny-day .glow-heading {
            /* This is the updated line */
            color: #FFFFFF; /* White base text */
            text-shadow: 0 0 10px #FFD700, 0 0 20px #FFD700; /* Yellow glow */
            animation: sunny-glow-pulse 2s infinite alternate;
        }

        body.sunny-day .cta-btn {
            background-color: #FFD700; /* Gold for CTA */
            color: #333333;
        }

        body.sunny-day .cta-btn:hover {
            box-shadow: 0 0 20px 8px rgba(255, 215, 0, 0.8);
        }

        body.sunny-day .timeline-node {
            background-color: #FFD700;
            border: 3px solid #87CEEB; /* Sky blue border */
        }

        body.sunny-day .timeline-node::before {
            color: #333333;
        }

        body.sunny-day .timeline-node::after {
            color: #333333;
        }

        body.sunny-day .social-icon {
            color: #333333;
        }

        body.sunny-day .social-icon:hover {
            color: #FFD700;
        }

        /* ---------------------------------------------------- */
        /* KEYFRAMES FOR ANIMATIONS */
        /* ---------------------------------------------------- */
        /* Dark night gradient animation */
        @keyframes gradient-animation {
            0% {
                background-position: 0% 50%;
            }
            50% {
                background-position: 100% 50%;
            }
            100% {
                background-position: 0% 50%;
            }
        }

        /* Dark night glow pulse animation */
        @keyframes glow-pulse {
            0% {
                text-shadow: 0 0 5px #99CCFF, 0 0 10px #99CCFF;
            }
            100% {
                text-shadow: 0 0 15px #99CCFF, 0 0 25px #99CCFF;
            }
        }

        /* NEW: Sunny day gradient animation */
        @keyframes sunny-gradient-animation {
            0% {
                background-position: 0% 50%;
            }
            50% {
                background-position: 100% 50%;
            }
            100% {
                background-position: 0% 50%;
            }
        }

        /* NEW: Sunny day glow pulse animation */
        @keyframes sunny-glow-pulse {
            0% {
                text-shadow: 0 0 5px #FFD700, 0 0 10px #FFD700;
            }
            100% {
                text-shadow: 0 0 15px #FFD700, 0 0 25px #FFD700;
            }
        }

        /* Other common styles */
        h1, h2, h3 {
            font-family: 'Montserrat', sans-serif;
        }
        
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease-in-out;
        }
        .accordion-item.open .accordion-content {
            max-height: 500px;
        }
        
        .testimonial-slider {
            overflow: hidden;
        }
        .testimonial-track {
            display: flex;
            transition: transform 0.5s ease-in-out;
        }
        .testimonial-card {
            flex: 0 0 100%;
            width: 100%;
        }

        #bg-modal {
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
        }

        .timeline-node {
            position: relative;
            width: 20px;
            height: 20px;
            border-radius: 50%;
        }
        .timeline-node::before {
            content: attr(data-year);
            position: absolute;
            top: -35px;
            left: 50%;
            transform: translateX(-50%);
            white-space: nowrap;
            font-weight: bold;
        }
        .timeline-node::after {
            content: attr(data-text);
            position: absolute;
            top: 25px;
            left: 50%;
            transform: translateX(-50%);
            width: 150px;
            text-align: center;
            font-size: 1rem;
        }

        .social-icon {
            font-size: 2.5rem;
            transition: transform 0.3s ease-in-out;
        }
    </style>
</head>
<body class="p-4 md:p-8 relative">

    <!-- Button to open the background customization modal -->
    <button id="open-bg-modal" class="fixed top-4 right-4 z-40 cta-btn px-4 py-2 text-sm rounded-full">
        Customize BG
    </button>
    
    <!-- NEW: Theme Toggle Button -->
    <button id="theme-toggle" class="fixed top-4 right-28 z-40 cta-btn px-4 py-2 text-sm rounded-full">
        <i id="theme-icon" class="fa-solid fa-sun"></i>
    </button>

    <!-- Canvas for the sparkling background effect -->
    <canvas id="sparkle-canvas"></canvas>

    <!-- Background Customization Modal -->
    <div id="bg-modal" class="fixed inset-0 z-50 hidden flex items-center justify-center">
        <div class="glass-container p-6 w-11/12 md:w-2/3 lg:w-1/2">
            <h3 class="text-3xl mb-4 text-center">Customize Your Background</h3>
            
            <!-- Predefined backgrounds -->
            <div class="mb-8">
                <h4 class="text-xl md:text-2xl mb-4 text-center text-FDEBD0">Choose a Predefined Background</h4>
                <div id="predefined-options" class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4">
                    <!-- Predefined Image 1: Abstract Tech -->
                    <img src="https://i.postimg.cc/KvWjwCwq/generate-a-backgroun.png" 
                         data-bg-url="https://i.postimg.cc/KvWjwCwq/generate-a-backgroun.png"
                         class="predefined-bg-image w-full h-24 sm:h-32 rounded-lg object-cover cursor-pointer hover:ring-4 hover:ring-[#99CCFF] transition-all duration-300"
                         alt="Abstract tech background">
                    
                    <!-- Predefined Image 2: Digital Cityscape -->
                    <img src="https://i.postimg.cc/SxzPfzcT/Gemini-Generated-Image-6y0b9m6y0b9m6y0b.png"
                         data-bg-url="https://i.postimg.cc/SxzPfzcT/Gemini-Generated-Image-6y0b9m6y0b9m6y0b.png"
                         class="predefined-bg-image w-full h-24 sm:h-32 rounded-lg object-cover cursor-pointer hover:ring-4 hover:ring-[#99CCFF] transition-all duration-300"
                         alt="Digital cityscape background">
                    
                    <!-- Predefined Image 3: Gradient Wave -->
                    <img src="https://i.postimg.cc/pTDxG68S/sssss.png"
                         data-bg-url="https://i.postimg.cc/pTDxG68S/sssss.png"
                         class="predefined-bg-image w-full h-24 sm:h-32 rounded-lg object-cover cursor-pointer hover:ring-4 hover:ring-[#99CCFF] transition-all duration-300"
                         alt="Gradient wave background">
                    
                    <!-- Predefined Image 4: Futuristic Circuit Board -->
                    <img src="https://i.postimg.cc/QC02vGMf/Gemini-Generated-Image-tumbystumbystumb-1.png"
                         data-bg-url="https://i.postimg.cc/QC02vGMf/Gemini-Generated-Image-tumbystumbystumb-1.png"
                         class="predefined-bg-image w-full h-24 sm:h-32 rounded-lg object-cover cursor-pointer hover:ring-4 hover:ring-[#99CCFF] transition-all duration-300"
                         alt="Futuristic circuit board background">
                </div>
            </div>

            <div id="bg-preview-container" class="mt-4 hidden relative overflow-hidden rounded-lg" style="height: 250px;">
                <img id="bg-preview" class="w-full h-full object-cover">
            </div>
            
            <div class="flex justify-end mt-6">
                <!-- New button to remove the custom background -->
                <button id="remove-bg" class="bg-red-500 text-white px-6 py-2 rounded-full mr-2 hover:bg-red-600 transition">Remove Background</button>
                <button id="close-modal" class="bg-gray-700 text-white px-6 py-2 rounded-full mr-2 hover:bg-gray-600">Cancel</button>
                <button id="apply-bg" class="cta-btn px-6 py-2 rounded-full">Apply</button>
            </div>
        </div>
    </div>

    <!-- Main Content Container with Glassmorphism Effect -->
    <div class="glass-container max-w-7xl mx-auto my-12 md:my-20 p-6 md:p-12 lg:p-16">

        <!-- Header Section -->
        <header class="text-center mb-16 animated-section">
            <h1 class="text-5xl md:text-6xl font-extrabold main-title mb-2">CaiC</h1>
            <h2 class="text-2xl md:text-3xl font-bold tracking-tight text-[#99CCFF]">Cordova ai Creatives</h2>
            <p class="text-lg md:text-xl mt-2">Where Filipino Ingenuity Meets Artificial Intelligence.</p>
        </header>

        <!-- Mission & Vision Section -->
        <section id="mission" class="my-20 animated-section">
            <div class="text-center">
                <h2 class="text-3xl md:text-4xl mb-4 glow-heading">Our Vision & Mission</h2>
                <p class="text-lg mb-6 max-w-3xl mx-auto">
                    To empower Filipino brands and student groups by delivering culturally relevant, AI-powered design and storytelling. We envision a future where local creativity thrives on a global stage, propelled by brilliant technology.
                </p>
            </div>
        </section>

        <!-- The Journey (Timeline) Section -->
        <section id="story" class="my-20 animated-section">
            <h2 class="text-3xl md:text-4xl mb-8 text-center glow-heading">The Journey of Joshua Cordova</h2>
            <div class="relative max-w-5xl mx-auto">
                <div class="flex justify-between items-center relative z-10">
                    <div class="timeline-node" data-year="2019" data-text="From winning poster contests..."></div>
                    <div class="timeline-node" data-year="2021" data-text="...to launching Aristoshots, a local multimedia studio."></div>
                    <div class="timeline-node" data-year="Present" data-text="Founding CaiC, merging creativity with AI."></div>
                </div>
                <div class="absolute top-1/2 left-0 w-full h-1 bg-[#0A192F] -translate-y-1/2"></div>
            </div>
        </section>

        <!-- Differentiators (Accordion) Section -->
        <section id="difference" class="my-20 animated-section">
            <h2 class="text-3xl md:text-4xl mb-8 text-center glow-heading">What Makes Us Different</h2>
            <div class="space-y-4 max-w-4xl mx-auto">
                <!-- Accordion Item 1 -->
                <div class="accordion-item glass-container p-6 cursor-pointer">
                    <div class="accordion-header flex items-center justify-between">
                        <h3 class="text-xl mb-0">AI-Powered Branding</h3>
                        <svg class="w-6 h-6 transform transition-transform duration-300" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z" clip-rule="evenodd" />
                        </svg>
                    </div>
                    <div class="accordion-content pt-4">
                        <p class="text-base">We leverage AI to analyze market trends and audience data, ensuring that your brand's visual identity is not only beautiful but also strategically sound and highly effective.</p>
                    </div>
                </div>
                <!-- Accordion Item 2 -->
                <div class="accordion-item glass-container p-6 cursor-pointer">
                    <div class="accordion-header flex items-center justify-between">
                        <h3 class="text-xl mb-0">Modular Content Packs</h3>
                        <svg class="w-6 h-6 transform transition-transform duration-300" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z" clip-rule="evenodd" />
                        </svg>
                    </div>
                    <div class="accordion-content pt-4">
                        <p class="text-base">Receive a flexible library of brand assets that can be easily adapted for any platform, ensuring consistency and saving you time. Our designs are built to evolve with your needs.</p>
                    </div>
                </div>
                <!-- Accordion Item 3 -->
                <div class="accordion-item glass-container p-6 cursor-pointer">
                    <div class="accordion-header flex items-center justify-between">
                        <h3 class="text-xl mb-0">Cultural Relevance</h3>
                        <svg class="w-6 h-6 transform transition-transform duration-300" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z" clip-rule="evenodd" />
                        </svg>
                    </div>
                    <div class="accordion-content pt-4">
                        <p class="text-base">Our AI models are specially fine-tuned with Filipino art, symbols, and design principles. The result is a unique, authentic aesthetic that speaks directly to the local market.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Services Section -->
        <section id="services" class="my-20 animated-section">
            <h2 class="text-3xl md:text-4xl mb-8 text-center glow-heading">Services Snapshot</h2>
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
                <div class="glass-container p-6 text-center transition-transform duration-300 hover:scale-110 hover:-translate-y-2">
                    <h3 class="text-xl mb-2">Branding Kits</h3>
                    <p class="text-base">Logos, color palettes, and guidelines, generated and refined with AI.</p>
                </div>
                <div class="glass-container p-6 text-center transition-transform duration-300 hover:scale-110 hover:-translate-y-2">
                    <h3 class="text-xl mb-2">Web Design</h3>
                    <p class="text-base">Responsive websites with AI-driven UX/UI for optimal user experience.</p>
                </div>
                <div class="glass-container p-6 text-center transition-transform duration-300 hover:scale-110 hover:-translate-y-2">
                    <h3 class="text-xl mb-2">Social Media Automation</h3>
                    <p class="text-base">Automated content generation and scheduling to keep your brand active.</p>
                </div>
                <div class="glass-container p-6 text-center transition-transform duration-300 hover:scale-110 hover:-translate-y-2">
                    <h3 class="text-xl mb-2">AI Agent Setup</h3>
                    <p class="text-base">Custom chatbots and virtual assistants tailored for your business needs.</p>
                </div>
            </div>
        </section>

        <!-- Credibility & Social Proof Section -->
        <section id="credibility" class="my-20 animated-section">
            <h2 class="text-3xl md:text-4xl mb-8 text-center glow-heading">Credibility & Social Proof</h2>
            <div class="flex flex-col md:flex-row gap-8">
                <div class="md:w-1/2">
                    <h3 class="text-2xl mb-4">Awards & Engagements</h3>
                    <ul class="list-disc list-inside space-y-2 text-base">
                        <li>Google BI & Cybersecurity Certifications</li>
                        <li>Avid Attendee of Google DevFest Bacolod</li>
                        <li>Avid Attendee of GDG Bacolod Workshops</li>
                    </ul>
                </div>
                <div class="md:w-1/2">
                    <h3 class="text-2xl mb-4">Client Testimonials</h3>
                    <div class="testimonial-slider relative p-4 glass-container">
                        <div class="testimonial-track">
                            <!-- Testimonial Cards -->
                            <div class="testimonial-card text-center flex-shrink-0">
                                <p class="italic text-base">"CaiC took our brand identity to the next level. The AI-driven insights were a game-changer for our marketing strategy."</p>
                                <p class="mt-4 font-bold">- Jane Doe, CEO of Local Eats PH</p>
                            </div>
                            <div class="testimonial-card text-center flex-shrink-0">
                                <p class="italic text-base">"The web design was stunning and intuitive. We saw an immediate boost in engagement and conversions."</p>
                                <p class="mt-4 font-bold">- John Smith, Founder of EduConnect</p>
                            </div>
                            <div class="testimonial-card text-center flex-shrink-0">
                                <p class="italic text-base">"Working with Joshua was a breeze. He combined technical expertise with a creative flair that is unmatched."</p>
                                <p class="mt-4 font-bold">- Maria Gomez, Marketing Head at TechSpark</p>
                            </div>
                        </div>
                        <div class="flex justify-center mt-4">
                            <button class="slider-btn prev-btn bg-white/10 p-2 rounded-full mr-2 hover:bg-white/20 transition">‹</button>
                            <button class="slider-btn next-btn bg-white/10 p-2 rounded-full hover:bg-white/20 transition">›</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Our Values Section -->
        <section id="values" class="my-20 animated-section">
            <h2 class="text-3xl md:text-4xl mb-8 text-center glow-heading">Our Values & Approach</h2>
            <div class="grid md:grid-cols-2 gap-6">
                <div class="glass-container p-6 text-center transition-transform duration-300 hover:scale-110 hover:-translate-y-2">
                    <h3 class="text-xl mb-2">Clarity</h3>
                    <p class="text-base">We believe in clear communication and transparent processes to build trust.</p>
                </div>
                <div class="glass-container p-6 text-center transition-transform duration-300 hover:scale-110 hover:-translate-y-2">
                    <h3 class="text-xl mb-2">Collaboration</h3>
                    <p class="text-base">We work with you, not just for you. Your vision is our blueprint.</p>
                </div>
                <div class="glass-container p-6 text-center transition-transform duration-300 hover:scale-110 hover:-translate-y-2">
                    <h3 class="text-xl mb-2">Modularity</h3>
                    <p class="text-base">Our solutions are designed to be flexible and scalable for future growth.</p>
                </div>
                <div class="glass-container p-6 text-center transition-transform duration-300 hover:scale-110 hover:-translate-y-2">
                    <h3 class="text-xl mb-2">Empathy-Driven</h3>
                    <p class="text-base">We design with the end-user in mind, creating experiences that truly resonate.</p>
                </div>
            </div>
        </section>

        <!-- Call to Action Section with Social Links -->
        <section id="cta" class="my-20 animated-section text-center">
            <h2 class="text-3xl md:text-4xl mb-4 glow-heading">Ready to elevate your brand?</h2>
            <p class="text-lg mb-8">Let's build something beautiful together. Connect with us on social media!</p>
            
            <!-- Social Media Links with Font Awesome Icons -->
            <div class="flex justify-center space-x-6">
                <!-- Instagram Link -->
                <a href="https://www.instagram.com/orins.juice/" class="social-icon transition-colors duration-300 transform hover:scale-125">
                    <i class="fa-brands fa-instagram"></i>
                </a>
                
                <!-- Facebook Link -->
                <a href="https://www.facebook.com/joshua.cordova29" class="social-icon transition-colors duration-300 transform hover:scale-125">
                    <i class="fa-brands fa-facebook-f"></i>
                </a>
                
                <!-- LinkedIn Link -->
                <a href="https://www.linkedin.com/in/joshua-cordova-445442247/" class="social-icon transition-colors duration-300 transform hover:scale-125">
                    <i class="fa-brands fa-linkedin-in"></i>
                </a>
            </div>
            
        </section>
        
    </div>

    <!-- JavaScript for interactivity and the new sparkle effect -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- SCROLL-TRIGGERED ANIMATIONS ---
            try {
                const animatedSections = document.querySelectorAll('.animated-section');
                const observerOptions = {
                    root: null,
                    rootMargin: '0px',
                    threshold: 0.2
                };
                const sectionObserver = new IntersectionObserver((entries, observer) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('is-visible');
                            observer.unobserve(entry.target);
                        }
                    });
                }, observerOptions);
                animatedSections.forEach(section => {
                    sectionObserver.observe(section);
                });
            } catch (error) {
                console.error("Scroll animation failed:", error);
            }

            // --- ACCORDION LOGIC ---
            try {
                const accordionItems = document.querySelectorAll('.accordion-item');
                accordionItems.forEach(item => {
                    const header = item.querySelector('.accordion-header');
                    header.addEventListener('click', () => {
                        const content = item.querySelector('.accordion-content');
                        const icon = header.querySelector('svg');
                        accordionItems.forEach(otherItem => {
                            if (otherItem !== item && otherItem.classList.contains('open')) {
                                otherItem.classList.remove('open');
                                otherItem.querySelector('.accordion-content').style.maxHeight = '0';
                                otherItem.querySelector('svg').style.transform = 'rotate(0deg)';
                            }
                        });
                        if (item.classList.contains('open')) {
                            item.classList.remove('open');
                            content.style.maxHeight = '0';
                            icon.style.transform = 'rotate(0deg)';
                        } else {
                            item.classList.add('open');
                            content.style.maxHeight = content.scrollHeight + 'px';
                            icon.style.transform = 'rotate(45deg)';
                        }
                    });
                });
            } catch (error) {
                console.error("Accordion logic failed:", error);
            }
            
            // --- TESTIMONIAL SLIDER ---
            try {
                const testimonialTrack = document.querySelector('.testimonial-track');
                const testimonialCards = document.querySelectorAll('.testimonial-card');
                const prevBtn = document.querySelector('.slider-btn.prev-btn');
                const nextBtn = document.querySelector('.slider-btn.next-btn');
                let currentIndex = 0;
                const totalCards = testimonialCards.length;
                const updateSlider = () => {
                    const offset = -currentIndex * 100;
                    testimonialTrack.style.transform = `translateX(${offset}%)`;
                };
                if (nextBtn) {
                    nextBtn.addEventListener('click', () => {
                        currentIndex = (currentIndex + 1) % totalCards;
                        updateSlider();
                    });
                }
                if (prevBtn) {
                    prevBtn.addEventListener('click', () => {
                        currentIndex = (currentIndex - 1 + totalCards) % totalCards;
                        updateSlider();
                    });
                }
                setInterval(() => {
                    if (nextBtn) {
                        nextBtn.click();
                    }
                }, 5000);
            } catch (error) {
                console.error("Testimonial slider failed:", error);
            }
            
            // --- SPARKLE EFFECT SCRIPT (Updated to handle theme change) ---
            try {
                const canvas = document.getElementById('sparkle-canvas');
                const ctx = canvas.getContext('2d');
                let width, height;
                let particles = [];
                let lastTime = 0;
                const spawnInterval = 50;

                function resizeCanvas() {
                    width = canvas.width = window.innerWidth;
                    height = canvas.height = window.innerHeight;
                }
                resizeCanvas();
                window.addEventListener('resize', resizeCanvas);

                class Particle {
                    constructor() {
                        this.x = Math.random() * width;
                        this.y = Math.random() * height;
                        this.size = Math.random() * 3 + 1;
                        this.speedX = (Math.random() - 0.5) * 0.5;
                        this.speedY = (Math.random() - 0.5) * 0.5;
                        this.opacity = Math.random() * 0.7 + 0.3;
                        this.fadeSpeed = (Math.random() * 0.01 + 0.005) * (Math.random() > 0.5 ? 1 : -1);
                    }
                    update() {
                        this.x += this.speedX;
                        this.y += this.speedY;
                        if (this.x > width || this.x < 0) this.speedX *= -1;
                        if (this.y > height || this.y < 0) this.speedY *= -1;
                        this.opacity += this.fadeSpeed;
                        if (this.opacity > 1 || this.opacity < 0.3) {
                            this.fadeSpeed *= -1;
                        }
                    }
                    draw() {
                        ctx.beginPath();
                        ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);

                        // Dynamically change sparkle color based on theme
                        let sparkleColor = document.body.classList.contains('sunny-day') 
                            ? `rgba(255, 223, 0, ${this.opacity})` // Gold/yellow for sunny day
                            : `rgba(153, 204, 255, ${this.opacity})`; // Cool blue for dark night

                        ctx.shadowBlur = 20;
                        ctx.shadowColor = sparkleColor;
                        ctx.fillStyle = sparkleColor;
                        ctx.fill();
                        ctx.shadowBlur = 0;
                        ctx.shadowColor = 'transparent';
                    }
                }
                
                function createParticles() {
                    if (particles.length < 600) {
                        particles.push(new Particle());
                    }
                }

                function animate(timestamp) {
                    ctx.clearRect(0, 0, width, height);
                    particles.forEach(particle => {
                        particle.update();
                        particle.draw();
                    });
                    if (timestamp - lastTime > spawnInterval) {
                        createParticles();
                        lastTime = timestamp;
                    }
                    requestAnimationFrame(animate);
                }
                animate(0);
            } catch (error) {
                console.error("Sparkle effect failed:", error);
            }

            // --- BACKGROUND MODAL AND THEME TOGGLE LOGIC ---
            try {
                const openModalBtn = document.getElementById('open-bg-modal');
                const bgModal = document.getElementById('bg-modal');
                const closeModalBtn = document.getElementById('close-modal');
                const removeBgBtn = document.getElementById('remove-bg');
                const body = document.body;
                
                // NEW: Theme toggle button logic
                const themeToggleBtn = document.getElementById('theme-toggle');
                const themeIcon = document.getElementById('theme-icon');

                if (themeToggleBtn) {
                    themeToggleBtn.addEventListener('click', () => {
                        if (body.classList.contains('sunny-day')) {
                            // Switch to Dark Night theme
                            body.classList.remove('sunny-day');
                            themeIcon.classList.remove('fa-moon');
                            themeIcon.classList.add('fa-sun');
                        } else {
                            // Switch to Sunny Day theme
                            body.classList.add('sunny-day');
                            themeIcon.classList.remove('fa-sun');
                            themeIcon.classList.add('fa-moon');
                        }
                        // Remove any custom image background to show the new gradient
                        body.style.backgroundImage = 'none';
                    });
                }
                
                // Logic for predefined images
                const predefinedOptionsContainer = document.getElementById('predefined-options');
                if (predefinedOptionsContainer) {
                    predefinedOptionsContainer.addEventListener('click', (e) => {
                        if (e.target.tagName === 'IMG' && e.target.dataset.bgUrl) {
                            const imageUrl = e.target.dataset.bgUrl;
                            body.style.backgroundImage = `url('${imageUrl}')`;
                            body.style.backgroundSize = 'cover';
                            body.style.backgroundPosition = 'center';
                            body.style.animation = 'none';
                            bgModal.classList.add('hidden');
                        }
                    });
                }

                if (openModalBtn) {
                    openModalBtn.addEventListener('click', () => {
                        bgModal.classList.remove('hidden');
                    });
                }

                if (closeModalBtn) {
                    closeModalBtn.addEventListener('click', () => {
                        bgModal.classList.add('hidden');
                    });
                }
                
                if (removeBgBtn) {
                    removeBgBtn.addEventListener('click', () => {
                        body.style.backgroundImage = 'none';
                        if (body.classList.contains('sunny-day')) {
                             body.style.background = 'linear-gradient(135deg, #87CEEB, #F0E68C, #FFFACD)';
                             body.style.backgroundSize = '500% 500%';
                             body.style.animation = 'sunny-gradient-animation 6s linear infinite';
                        } else {
                            body.style.background = 'linear-gradient(135deg, #0A192F, #1F2E4A, #0A192F)';
                            body.style.backgroundSize = '500% 500%';
                            body.style.animation = 'gradient-animation 6s linear infinite';
                        }
                        bgModal.classList.add('hidden');
                    });
                }
            } catch (error) {
                console.error("Background modal logic failed:", error);
            }
        });
    </script>
</body>
</html>
